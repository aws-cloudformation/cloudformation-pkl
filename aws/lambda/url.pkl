/// AWS::Lambda::Url
///
/// Generated by rain build --pkl-class AWS::Lambda::Url
module aws.lambda.url

import "../../cloudformation.pkl"

typealias UrlAllowHeaders = Listing<(String|Mapping)?>


typealias AllowMethodsArray = "GET"|"PUT"|"HEAD"|"POST"|"PATCH"|"DELETE"|"*"

typealias UrlAllowMethods = Listing<(AllowMethodsArray|Mapping)?>


typealias UrlAllowOrigins = Listing<(String|Mapping)?>


/// 
open class UrlCors {
    AllowCredentials: (Boolean|Mapping)?
    AllowHeaders: (UrlAllowHeaders)?
    AllowMethods: (UrlAllowMethods)?
    AllowOrigins: (UrlAllowOrigins)?
    ExposeHeaders: (UrlExposeHeaders)?
    MaxAge: (Int|Mapping)?
}

typealias UrlExposeHeaders = Listing<(String|Mapping)?>


/// Resource Type definition for AWS::Lambda::Url
open class Url extends cloudformation.Resource {

    Type = "AWS::Lambda::Url"


    /// Can be either AWS_IAM if the requests are authorized via IAM, or NONE if no authorization is configured on the Function URL.
    hidden AuthType: UrlAuthType|Mapping

    /// 
    hidden Cors: (UrlCors)?

    /// The invocation mode for the function's URL. Set to BUFFERED if you want to buffer responses before returning them to the client. Set to RESPONSE_STREAM if you want to stream responses, allowing faster time to first byte and larger response payload sizes. If not set, defaults to BUFFERED.
    hidden InvokeMode: (UrlInvokeMode|Mapping)?

    /// The alias qualifier for the target function. If TargetFunctionArn is unqualified then Qualifier must be passed.
    hidden Qualifier: (String(matches(Regex(#"((?!^[0-9]+$)([a-zA-Z0-9-_]+))"#)))|Mapping)?

    /// The Amazon Resource Name (ARN) of the function associated with the Function URL.
    hidden TargetFunctionArn: String(matches(Regex(#"^(arn:(aws[a-zA-Z-]*)?:lambda:)?([a-z]{2}((-gov)|(-iso(b?)))?-[a-z]+-\d{1}:)?(\d{12}:)?(function:)?([a-zA-Z0-9-_]+)(:((?!\d+)[0-9a-zA-Z-_]+))?$"#)))|Mapping

    Properties {
        ["AuthType"] = if (AuthType == null) null else AuthType
        ["Cors"] = if (Cors == null) null else Cors
        ["InvokeMode"] = if (InvokeMode == null) null else InvokeMode
        ["Qualifier"] = if (Qualifier == null) null else Qualifier
        ["TargetFunctionArn"] = if (TargetFunctionArn == null) null else TargetFunctionArn
    }

}


typealias UrlAuthType = "AWS_IAM"|"NONE"

typealias UrlInvokeMode = "BUFFERED"|"RESPONSE_STREAM"
