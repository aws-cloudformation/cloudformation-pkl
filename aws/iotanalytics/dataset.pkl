/// AWS::IoTAnalytics::Dataset
///
/// Generated by rain build --pkl-class AWS::IoTAnalytics::Dataset
module aws.iotanalytics.dataset

import "../../cloudformation.pkl"

/// 
open class DatasetAction {
    ActionName: String(matches(Regex(#"^[a-zA-Z0-9_]+$"#)))|Mapping
    ContainerAction: (DatasetContainerAction)?
    QueryAction: (DatasetQueryAction)?
}

/// 
open class DatasetContainerAction {
    ExecutionRoleArn: String|Mapping
    Image: String|Mapping
    ResourceConfiguration: DatasetResourceConfiguration
    Variables: (Listing<DatasetVariable>)?
}

/// 
open class DatasetDatasetContentDeliveryRule {
    Destination: DatasetDatasetContentDeliveryRuleDestination
    EntryName: (String|Mapping)?
}

/// 
open class DatasetDatasetContentDeliveryRuleDestination {
    IotEventsDestinationConfiguration: (DatasetIotEventsDestinationConfiguration)?
    S3DestinationConfiguration: (DatasetS3DestinationConfiguration)?
}

/// 
open class DatasetDatasetContentVersionValue {
    DatasetName: String(matches(Regex(#"(^(?!_{2}))(^[a-zA-Z0-9_]+$)"#)))|Mapping
}

/// 
open class DatasetDeltaTime {
    OffsetSeconds: Int|Mapping
    TimeExpression: String|Mapping
}

/// 
open class DatasetDeltaTimeSessionWindowConfiguration {
    TimeoutInMinutes: Int|Mapping
}

/// 
open class DatasetFilter {
    DeltaTime: (DatasetDeltaTime)?
}

/// 
open class DatasetGlueConfiguration {
    DatabaseName: String|Mapping
    TableName: String|Mapping
}

/// 
open class DatasetIotEventsDestinationConfiguration {
    InputName: String(matches(Regex(#"^[a-zA-Z][a-zA-Z0-9_]*$"#)))|Mapping
    RoleArn: String|Mapping
}

/// 
open class DatasetLateDataRule {
    RuleConfiguration: DatasetLateDataRuleConfiguration
    RuleName: (String(matches(Regex(#"^[a-zA-Z0-9_]+$"#)))|Mapping)?
}

/// 
open class DatasetLateDataRuleConfiguration {
    DeltaTimeSessionWindowConfiguration: (DatasetDeltaTimeSessionWindowConfiguration)?
}

/// 
open class DatasetOutputFileUriValue {
    FileName: String(matches(Regex(#"^[\w\.-]{1,255}$"#)))|Mapping
}

/// 
open class DatasetQueryAction {
    Filters: (Listing<DatasetFilter>)?
    SqlQuery: String|Mapping
}

typealias ResourceConfigurationComputeType = "ACU_1"|"ACU_2"

/// 
open class DatasetResourceConfiguration {
    ComputeType: ResourceConfigurationComputeType|Mapping
    VolumeSizeInGB: Int|Mapping
}

/// 
open class DatasetRetentionPeriod {
    NumberOfDays: (Int|Mapping)?
    Unlimited: (Boolean|Mapping)?
}

/// 
open class DatasetS3DestinationConfiguration {
    Bucket: String(matches(Regex(#"^[a-zA-Z0-9.\-_]*$"#)))|Mapping
    GlueConfiguration: (DatasetGlueConfiguration)?
    Key: String(matches(Regex(#"^[a-zA-Z0-9!_.*'()/{}:-]*$"#)))|Mapping
    RoleArn: String|Mapping
}

/// 
open class DatasetSchedule {
    ScheduleExpression: String|Mapping
}

/// 
open class DatasetTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// 
open class DatasetTrigger {
    Schedule: (DatasetSchedule)?
    TriggeringDataset: (DatasetTriggeringDataset)?
}

/// 
open class DatasetTriggeringDataset {
    DatasetName: String(matches(Regex(#"(^(?!_{2}))(^[a-zA-Z0-9_]+$)"#)))|Mapping
}

/// 
open class DatasetVariable {
    DatasetContentVersionValue: (DatasetDatasetContentVersionValue)?
    DoubleValue: (Number|Mapping)?
    OutputFileUriValue: (DatasetOutputFileUriValue)?
    StringValue: (String|Mapping)?
    VariableName: String|Mapping
}

/// 
open class DatasetVersioningConfiguration {
    MaxVersions: (Int|Mapping)?
    Unlimited: (Boolean|Mapping)?
}

/// Resource Type definition for AWS::IoTAnalytics::Dataset
open class Dataset extends cloudformation.Resource {

    Type = "AWS::IoTAnalytics::Dataset"


    /// 
    hidden Actions: Listing<DatasetAction>

    /// 
    hidden ContentDeliveryRules: (Listing<DatasetDatasetContentDeliveryRule>)?

    /// 
    hidden DatasetName: (String(matches(Regex(#"(^(?!_{2}))(^[a-zA-Z0-9_]+$)"#)))|Mapping)?

    /// 
    hidden LateDataRules: (Listing<DatasetLateDataRule>)?

    /// 
    hidden RetentionPeriod: (DatasetRetentionPeriod)?

    /// 
    hidden Tags: (Listing<DatasetTag>)?

    /// 
    hidden Triggers: (Listing<DatasetTrigger>)?

    /// 
    hidden VersioningConfiguration: (DatasetVersioningConfiguration)?

    Properties {
        ["Actions"] = if (Actions == null) null else Actions
        ["ContentDeliveryRules"] = if (ContentDeliveryRules == null) null else ContentDeliveryRules
        ["DatasetName"] = if (DatasetName == null) null else DatasetName
        ["LateDataRules"] = if (LateDataRules == null) null else LateDataRules
        ["RetentionPeriod"] = if (RetentionPeriod == null) null else RetentionPeriod
        ["Tags"] = if (Tags == null) null else Tags
        ["Triggers"] = if (Triggers == null) null else Triggers
        ["VersioningConfiguration"] = if (VersioningConfiguration == null) null else VersioningConfiguration
    }

}
