/// AWS::EC2::FlowLog
///
/// Generated by rain build --pkl-class AWS::EC2::FlowLog
module aws.ec2.flowlog

import "../../cloudformation.pkl"

/// 
open class FlowLogTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// Specifies a VPC flow log, which enables you to capture IP traffic for a specific network interface, subnet, or VPC.
open class FlowLog extends cloudformation.Resource {

    Type = "AWS::EC2::FlowLog"


    /// The ARN of the IAM role that allows Amazon EC2 to publish flow logs across accounts.
    hidden DeliverCrossAccountRole: (String|Mapping)?

    /// The ARN for the IAM role that permits Amazon EC2 to publish flow logs to a CloudWatch Logs log group in your account. If you specify LogDestinationType as s3 or kinesis-data-firehose, do not specify DeliverLogsPermissionArn or LogGroupName.
    hidden DeliverLogsPermissionArn: (String|Mapping)?

    /// 
    hidden DestinationOptions: (Dynamic)?

    /// Specifies the destination to which the flow log data is to be published. Flow log data can be published to a CloudWatch Logs log group, an Amazon S3 bucket, or a Kinesis Firehose stream. The value specified for this parameter depends on the value specified for LogDestinationType.
    hidden LogDestination: (String|Mapping)?

    /// Specifies the type of destination to which the flow log data is to be published. Flow log data can be published to CloudWatch Logs or Amazon S3.
    hidden LogDestinationType: (FlowLogLogDestinationType|Mapping)?

    /// The fields to include in the flow log record, in the order in which they should appear.
    hidden LogFormat: (String|Mapping)?

    /// The name of a new or existing CloudWatch Logs log group where Amazon EC2 publishes your flow logs. If you specify LogDestinationType as s3 or kinesis-data-firehose, do not specify DeliverLogsPermissionArn or LogGroupName.
    hidden LogGroupName: (String|Mapping)?

    /// The maximum interval of time during which a flow of packets is captured and aggregated into a flow log record. You can specify 60 seconds (1 minute) or 600 seconds (10 minutes).
    hidden MaxAggregationInterval: (Int|Mapping)?

    /// The ID of the subnet, network interface, or VPC for which you want to create a flow log.
    hidden ResourceId: String|Mapping

    /// The type of resource for which to create the flow log. For example, if you specified a VPC ID for the ResourceId property, specify VPC for this property.
    hidden ResourceType: FlowLogResourceType|Mapping

    /// The tags to apply to the flow logs.
    hidden Tags: (Listing<FlowLogTag>)?

    /// The type of traffic to log. You can log traffic that the resource accepts or rejects, or all traffic.
    hidden TrafficType: (FlowLogTrafficType|Mapping)?

    Properties {
        ["DeliverCrossAccountRole"] = if (DeliverCrossAccountRole == null) null else DeliverCrossAccountRole
        ["DeliverLogsPermissionArn"] = if (DeliverLogsPermissionArn == null) null else DeliverLogsPermissionArn
        ["DestinationOptions"] = if (DestinationOptions == null) null else DestinationOptions
        ["LogDestination"] = if (LogDestination == null) null else LogDestination
        ["LogDestinationType"] = if (LogDestinationType == null) null else LogDestinationType
        ["LogFormat"] = if (LogFormat == null) null else LogFormat
        ["LogGroupName"] = if (LogGroupName == null) null else LogGroupName
        ["MaxAggregationInterval"] = if (MaxAggregationInterval == null) null else MaxAggregationInterval
        ["ResourceId"] = if (ResourceId == null) null else ResourceId
        ["ResourceType"] = if (ResourceType == null) null else ResourceType
        ["Tags"] = if (Tags == null) null else Tags
        ["TrafficType"] = if (TrafficType == null) null else TrafficType
    }

}


typealias FlowLogLogDestinationType = "cloud-watch-logs"|"s3"|"kinesis-data-firehose"

typealias FlowLogResourceType = "NetworkInterface"|"Subnet"|"VPC"|"TransitGateway"|"TransitGatewayAttachment"

typealias FlowLogTrafficType = "ACCEPT"|"ALL"|"REJECT"
