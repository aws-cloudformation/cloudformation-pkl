/// AWS::EntityResolution::IdMappingWorkflow
///
/// Generated by rain build --pkl-class AWS::EntityResolution::IdMappingWorkflow
module aws.entityresolution.idmappingworkflow

import "../../cloudformation.pkl"

typealias IdMappingWorkflowAttributeName = String|Mapping


typealias IdMappingWorkflowCreatedAt = String|Mapping


typealias IdMappingWorkflowDescription = String|Mapping


typealias IdMappingWorkflowEntityName = String|Mapping


typealias IdMappingRuleBasedPropertiesAttributeMatchingModel = "ONE_TO_ONE"|"MANY_TO_MANY"

typealias IdMappingRuleBasedPropertiesRecordMatchingModel = "ONE_SOURCE_TO_ONE_TARGET"|"MANY_SOURCE_TO_ONE_TARGET"

typealias IdMappingRuleBasedPropertiesRuleDefinitionType = "SOURCE"|"TARGET"

/// 
open class IdMappingWorkflowIdMappingRuleBasedProperties {
    AttributeMatchingModel: IdMappingRuleBasedPropertiesAttributeMatchingModel|Mapping
    RecordMatchingModel: IdMappingRuleBasedPropertiesRecordMatchingModel|Mapping
    RuleDefinitionType: (IdMappingRuleBasedPropertiesRuleDefinitionType|Mapping)?
    Rules: (Listing<IdMappingWorkflowRule>)?
}

typealias IdMappingTechniquesIdMappingType = "PROVIDER"|"RULE_BASED"

/// 
open class IdMappingWorkflowIdMappingTechniques {
    IdMappingType: (IdMappingTechniquesIdMappingType|Mapping)?
    NormalizationVersion: (String|Mapping)?
    ProviderProperties: (IdMappingWorkflowProviderProperties)?
    RuleBasedProperties: (IdMappingWorkflowIdMappingRuleBasedProperties)?
}

typealias IdMappingWorkflowIdMappingWorkflowArn = String|Mapping


typealias IdMappingWorkflowInputSourceType = "SOURCE"|"TARGET"

/// 
open class IdMappingWorkflowIdMappingWorkflowInputSource {
    InputSourceARN: String(matches(Regex(#"^arn:(aws|aws-us-gov|aws-cn):entityresolution:[a-z]{2}-[a-z]{1,10}-[0-9]:[0-9]{12}:(idnamespace/[a-zA-Z_0-9-]{1,255})$|^arn:(aws|aws-us-gov|aws-cn):entityresolution:[a-z]{2}-[a-z]{1,10}-[0-9]:[0-9]{12}:(matchingworkflow/[a-zA-Z_0-9-]{1,255})$|^arn:(aws|aws-us-gov|aws-cn):glue:[a-z]{2}-[a-z]{1,10}-[0-9]:[0-9]{12}:(table/[a-zA-Z_0-9-]{1,255}/[a-zA-Z_0-9-]{1,255})$"#)))|Mapping
    SchemaArn: (String|Mapping)?
    Type: (IdMappingWorkflowInputSourceType|Mapping)?
}

/// 
open class IdMappingWorkflowIdMappingWorkflowOutputSource {
    KMSArn: (IdMappingWorkflowKMSArn)?
    OutputS3Path: String(matches(Regex(#"^s3://([^/]+)/?(.*?([^/]+)/?)$"#)))|Mapping
}

/// 
open class IdMappingWorkflowIntermediateSourceConfiguration {
    IntermediateS3Path: String|Mapping
}

typealias IdMappingWorkflowKMSArn = String|Mapping


typealias IdMappingWorkflowProviderPropertiesProviderConfiguration = Mapping<String, Any>

/// 
open class IdMappingWorkflowProviderProperties {
    IntermediateSourceConfiguration: (IdMappingWorkflowIntermediateSourceConfiguration)?
    ProviderConfiguration: (IdMappingWorkflowProviderPropertiesProviderConfiguration)?
    ProviderServiceArn: String(matches(Regex(#"^arn:(aws|aws-us-gov|aws-cn):entityresolution:([A-Za-z0-9]+(-[A-Za-z0-9]+)+)::providerservice/[A-Za-z0-9]+/[A-Za-z0-9]+$"#)))|Mapping
}

/// 
open class IdMappingWorkflowRule {
    MatchingKeys: Listing<IdMappingWorkflowAttributeName>
    RuleName: String(matches(Regex(#"^[a-zA-Z_0-9- \t]*$"#)))|Mapping
}

typealias IdMappingWorkflowSchemaMappingArn = String|Mapping


/// A key-value pair to associate with a resource
open class IdMappingWorkflowTag {
    Key: String|Mapping
    Value: String|Mapping
}

typealias IdMappingWorkflowUpdatedAt = String|Mapping


/// IdMappingWorkflow defined in AWS Entity Resolution service
open class IdMappingWorkflow extends cloudformation.Resource {

    Type = "AWS::EntityResolution::IdMappingWorkflow"


    /// The description of the IdMappingWorkflow
    hidden Description: (IdMappingWorkflowDescription)?

    /// 
    hidden IdMappingTechniques: IdMappingWorkflowIdMappingTechniques

    /// 
    hidden InputSourceConfig: Listing<IdMappingWorkflowIdMappingWorkflowInputSource>

    /// 
    hidden OutputSourceConfig: (Listing<IdMappingWorkflowIdMappingWorkflowOutputSource>)?

    /// 
    hidden RoleArn: String(matches(Regex(#"^arn:(aws|aws-us-gov|aws-cn):iam::\d{12}:role/?[a-zA-Z_0-9+=,.@\-_/]+$"#)))|Mapping

    /// 
    hidden Tags: (Listing<IdMappingWorkflowTag>)?

    /// The name of the IdMappingWorkflow
    hidden WorkflowName: IdMappingWorkflowEntityName

    Properties {
        ["Description"] = if (Description == null) null else Description
        ["IdMappingTechniques"] = if (IdMappingTechniques == null) null else IdMappingTechniques
        ["InputSourceConfig"] = if (InputSourceConfig == null) null else InputSourceConfig
        ["OutputSourceConfig"] = if (OutputSourceConfig == null) null else OutputSourceConfig
        ["RoleArn"] = if (RoleArn == null) null else RoleArn
        ["Tags"] = if (Tags == null) null else Tags
        ["WorkflowName"] = if (WorkflowName == null) null else WorkflowName
    }

}
