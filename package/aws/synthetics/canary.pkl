/// AWS::Synthetics::Canary
///
/// Generated by rain build --pkl-class AWS::Synthetics::Canary
module aws.synthetics.canary

import "../../cloudformation.pkl"

/// 
open class CanaryArtifactConfig {
    S3Encryption: (CanaryS3Encryption)?
}

/// 
open class CanaryBaseScreenshot {
    IgnoreCoordinates: (Listing<String|Mapping>)?
    ScreenshotName: String|Mapping
}

/// 
open class CanaryCode {
    Handler: String|Mapping
    S3Bucket: (String|Mapping)?
    S3Key: (String|Mapping)?
    S3ObjectVersion: (String|Mapping)?
    Script: (String|Mapping)?
    SourceLocationArn: (String|Mapping)?
}

typealias CanaryResourceToTag = String|Mapping


typealias CanaryRunConfigEnvironmentVariables = Mapping<String, Any>

/// 
open class CanaryRunConfig {
    ActiveTracing: (Boolean|Mapping)?
    EnvironmentVariables: (CanaryRunConfigEnvironmentVariables)?
    MemoryInMB: (Int|Mapping)?
    TimeoutInSeconds: (Int|Mapping)?
}

/// 
open class CanaryS3Encryption {
    EncryptionMode: (String|Mapping)?
    KmsKeyArn: (String|Mapping)?
}

/// 
open class CanarySchedule {
    DurationInSeconds: (String|Mapping)?
    Expression: String|Mapping
}

/// A key-value pair to associate with a resource.
open class CanaryTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// 
open class CanaryVPCConfig {
    Ipv6AllowedForDualStack: (Boolean|Mapping)?
    SecurityGroupIds: Listing<String|Mapping>
    SubnetIds: Listing<String|Mapping>
    VpcId: (String|Mapping)?
}

/// 
open class CanaryVisualReference {
    BaseCanaryRunId: String|Mapping
    BaseScreenshots: (Listing<CanaryBaseScreenshot>)?
}

/// Resource Type definition for AWS::Synthetics::Canary
open class Canary extends cloudformation.Resource {

    Type = "AWS::Synthetics::Canary"


    /// Provide artifact configuration
    hidden ArtifactConfig: (CanaryArtifactConfig)?

    /// Provide the s3 bucket output location for test results
    hidden ArtifactS3Location: String(matches(Regex(#"^(s3|S3)://"#)))|Mapping

    /// Provide the canary script source
    hidden Code: CanaryCode

    /// Deletes associated lambda resources created by Synthetics if set to True. Default is False
    hidden DeleteLambdaResourcesOnCanaryDeletion: (Boolean|Mapping)?

    /// Lambda Execution role used to run your canaries
    hidden ExecutionRoleArn: String|Mapping

    /// Retention period of failed canary runs represented in number of days
    hidden FailureRetentionPeriod: (Int|Mapping)?

    /// Name of the canary.
    hidden Name: String(matches(Regex(#"^[0-9a-z_\-]{1,255}$"#)))|Mapping

    /// Setting to control if provisioned resources created by Synthetics are deleted alongside the canary. Default is AUTOMATIC.
    hidden ProvisionedResourceCleanup: (CanaryProvisionedResourceCleanup|Mapping)?

    /// List of resources which canary tags should be replicated to.
    hidden ResourcesToReplicateTags: (Listing<CanaryResourceToTag>)?

    /// Provide canary run configuration
    hidden RunConfig: (CanaryRunConfig)?

    /// Runtime version of Synthetics Library
    hidden RuntimeVersion: String|Mapping

    /// Frequency to run your canaries
    hidden Schedule: CanarySchedule

    /// Runs canary if set to True. Default is False
    hidden StartCanaryAfterCreation: (Boolean|Mapping)?

    /// Retention period of successful canary runs represented in number of days
    hidden SuccessRetentionPeriod: (Int|Mapping)?

    /// 
    hidden Tags: (Listing<CanaryTag>)?

    /// Provide VPC Configuration if enabled.
    hidden VPCConfig: (CanaryVPCConfig)?

    /// Visual reference configuration for visual testing
    hidden VisualReference: (CanaryVisualReference)?

    Properties {
        ["ArtifactConfig"] = if (ArtifactConfig == null) null else ArtifactConfig
        ["ArtifactS3Location"] = if (ArtifactS3Location == null) null else ArtifactS3Location
        ["Code"] = if (Code == null) null else Code
        ["DeleteLambdaResourcesOnCanaryDeletion"] = if (DeleteLambdaResourcesOnCanaryDeletion == null) null else DeleteLambdaResourcesOnCanaryDeletion
        ["ExecutionRoleArn"] = if (ExecutionRoleArn == null) null else ExecutionRoleArn
        ["FailureRetentionPeriod"] = if (FailureRetentionPeriod == null) null else FailureRetentionPeriod
        ["Name"] = if (Name == null) null else Name
        ["ProvisionedResourceCleanup"] = if (ProvisionedResourceCleanup == null) null else ProvisionedResourceCleanup
        ["ResourcesToReplicateTags"] = if (ResourcesToReplicateTags == null) null else ResourcesToReplicateTags
        ["RunConfig"] = if (RunConfig == null) null else RunConfig
        ["RuntimeVersion"] = if (RuntimeVersion == null) null else RuntimeVersion
        ["Schedule"] = if (Schedule == null) null else Schedule
        ["StartCanaryAfterCreation"] = if (StartCanaryAfterCreation == null) null else StartCanaryAfterCreation
        ["SuccessRetentionPeriod"] = if (SuccessRetentionPeriod == null) null else SuccessRetentionPeriod
        ["Tags"] = if (Tags == null) null else Tags
        ["VPCConfig"] = if (VPCConfig == null) null else VPCConfig
        ["VisualReference"] = if (VisualReference == null) null else VisualReference
    }

}


typealias CanaryProvisionedResourceCleanup = "AUTOMATIC"|"OFF"
