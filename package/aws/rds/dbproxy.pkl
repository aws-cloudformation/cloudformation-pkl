/// AWS::RDS::DBProxy
///
/// Generated by rain build --pkl-class AWS::RDS::DBProxy
module aws.rds.dbproxy

import "../../cloudformation.pkl"

typealias AuthFormatAuthScheme = "SECRETS"

typealias AuthFormatClientPasswordAuthType = "MYSQL_NATIVE_PASSWORD"|"POSTGRES_SCRAM_SHA_256"|"POSTGRES_MD5"|"SQL_SERVER_AUTHENTICATION"

typealias AuthFormatIAMAuth = "DISABLED"|"REQUIRED"|"ENABLED"

/// 
open class DBProxyAuthFormat {
    AuthScheme: (AuthFormatAuthScheme|Mapping)?
    ClientPasswordAuthType: (AuthFormatClientPasswordAuthType|Mapping)?
    Description: (String|Mapping)?
    IAMAuth: (AuthFormatIAMAuth|Mapping)?
    SecretArn: (String|Mapping)?
}

/// 
open class DBProxyTagFormat {
    Key: (String(matches(Regex(#"(\w|\d|\s|\\|-|\.:=+-)*"#)))|Mapping)?
    Value: (String(matches(Regex(#"(\w|\d|\s|\\|-|\.:=+-)*"#)))|Mapping)?
}

/// Resource schema for AWS::RDS::DBProxy
open class DBProxy extends cloudformation.Resource {

    Type = "AWS::RDS::DBProxy"


    /// The authorization mechanism that the proxy uses.
    hidden Auth: Listing<DBProxyAuthFormat>

    /// The identifier for the proxy. This name must be unique for all proxies owned by your AWS account in the specified AWS Region.
    hidden DBProxyName: String(matches(Regex(#"[0-z]*"#)))|Mapping

    /// Whether the proxy includes detailed information about SQL statements in its logs.
    hidden DebugLogging: (Boolean|Mapping)?

    /// The kinds of databases that the proxy can connect to.
    hidden EngineFamily: DBProxyEngineFamily|Mapping

    /// The number of seconds that a connection to the proxy can be inactive before the proxy disconnects it.
    hidden IdleClientTimeout: (Int|Mapping)?

    /// A Boolean parameter that specifies whether Transport Layer Security (TLS) encryption is required for connections to the proxy.
    hidden RequireTLS: (Boolean|Mapping)?

    /// The Amazon Resource Name (ARN) of the IAM role that the proxy uses to access secrets in AWS Secrets Manager.
    hidden RoleArn: String|Mapping

    /// An optional set of key-value pairs to associate arbitrary data of your choosing with the proxy.
    hidden Tags: (Listing<DBProxyTagFormat>)?

    /// VPC security group IDs to associate with the new proxy.
    hidden VpcSecurityGroupIds: (Listing<String|Mapping>)?

    /// VPC subnet IDs to associate with the new proxy.
    hidden VpcSubnetIds: Listing<String|Mapping>

    Properties {
        ["Auth"] = if (Auth == null) null else Auth
        ["DBProxyName"] = if (DBProxyName == null) null else DBProxyName
        ["DebugLogging"] = if (DebugLogging == null) null else DebugLogging
        ["EngineFamily"] = if (EngineFamily == null) null else EngineFamily
        ["IdleClientTimeout"] = if (IdleClientTimeout == null) null else IdleClientTimeout
        ["RequireTLS"] = if (RequireTLS == null) null else RequireTLS
        ["RoleArn"] = if (RoleArn == null) null else RoleArn
        ["Tags"] = if (Tags == null) null else Tags
        ["VpcSecurityGroupIds"] = if (VpcSecurityGroupIds == null) null else VpcSecurityGroupIds
        ["VpcSubnetIds"] = if (VpcSubnetIds == null) null else VpcSubnetIds
    }

}


typealias DBProxyEngineFamily = "MYSQL"|"POSTGRESQL"|"SQLSERVER"
