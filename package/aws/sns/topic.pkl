/// AWS::SNS::Topic
///
/// Generated by rain build --pkl-class AWS::SNS::Topic
module aws.sns.topic

import "../../cloudformation.pkl"

typealias LoggingConfigProtocol = "http/s"|"sqs"|"lambda"|"firehose"|"application"

/// The ``LoggingConfig`` property type specifies the ``Delivery`` status logging configuration for an [AWS::SNS::Topic](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-sns-topic.html).
open class TopicLoggingConfig {
    FailureFeedbackRoleArn: (String|Mapping)?
    Protocol: LoggingConfigProtocol|Mapping
    SuccessFeedbackRoleArn: (String|Mapping)?
    SuccessFeedbackSampleRate: (String|Mapping)?
}

/// ``Subscription`` is an embedded property that describes the subscription endpoints of an SNS topic.
///
///   For full control over subscription behavior (for example, delivery policy, filtering, raw message delivery, and cross-region subscriptions), use the [AWS::SNS::Subscription](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-sns-subscription.html) resource.
open class TopicSubscription {
    Endpoint: String|Mapping
    Protocol: String|Mapping
}

/// The list of tags to be added to the specified topic.
open class TopicTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// The ``AWS::SNS::Topic`` resource creates a topic to which notifications can be published.
///
///   One account can create a maximum of 100,000 standard topics and 1,000 FIFO topics. For more information, see [endpoints and quotas](https://docs.aws.amazon.com/general/latest/gr/sns.html) in the *General Reference*.
///    The structure of ``AUTHPARAMS`` depends on the .signature of the API request. For more information, see [Examples of the complete Signature Version 4 signing process](https://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html) in the *General Reference*.
open class Topic extends cloudformation.Resource {

    Type = "AWS::SNS::Topic"


    /// The archive policy determines the number of days SNS retains messages. You can set a retention period from 1 to 365 days.
    hidden ArchivePolicy: (Dynamic)?

    /// Enables content-based deduplication for FIFO topics.
    ///
    ///   +  By default, ``ContentBasedDeduplication`` is set to ``false``. If you create a FIFO topic and this attribute is ``false``, you must specify a value for the ``MessageDeduplicationId`` parameter for the [Publish](https://docs.aws.amazon.com/sns/latest/api/API_Publish.html) action. 
    ///   +  When you set ``ContentBasedDeduplication`` to ``true``, SNS uses a SHA-256 hash to generate the ``MessageDeduplicationId`` using the body of the message (but not the attributes of the message).
    ///  (Optional) To override the generated value, you can specify a value for the the ``MessageDeduplicationId`` parameter for the ``Publish`` action.
    hidden ContentBasedDeduplication: (Boolean|Mapping)?

    /// The body of the policy document you want to use for this topic.
    ///
    ///  You can only add one policy per topic.
    ///  The policy must be in JSON string format.
    ///  Length Constraints: Maximum length of 30,720.
    hidden DataProtectionPolicy: (Dynamic)?

    /// The ``DeliveryStatusLogging`` configuration enables you to log the delivery status of messages sent from your Amazon SNS topic to subscribed endpoints with the following supported delivery protocols:
    ///
    ///   +  HTTP 
    ///   +  Amazon Kinesis Data Firehose
    ///   +   AWS Lambda
    ///   +  Platform application endpoint
    ///   +  Amazon Simple Queue Service
    ///   
    ///  Once configured, log entries are sent to Amazon CloudWatch Logs.
    hidden DeliveryStatusLogging: (Listing<TopicLoggingConfig>)?

    /// The display name to use for an SNS topic with SMS subscriptions. The display name must be maximum 100 characters long, including hyphens (-), underscores (_), spaces, and tabs.
    hidden DisplayName: (String|Mapping)?

    /// Set to true to create a FIFO topic.
    hidden FifoTopic: (Boolean|Mapping)?

    /// The ID of an AWS managed customer master key (CMK) for SNS or a custom CMK. For more information, see [Key terms](https://docs.aws.amazon.com/sns/latest/dg/sns-server-side-encryption.html#sse-key-terms). For more examples, see ``KeyId`` in the *API Reference*.
    ///
    ///  This property applies only to [server-side-encryption](https://docs.aws.amazon.com/sns/latest/dg/sns-server-side-encryption.html).
    hidden KmsMasterKeyId: (String|Mapping)?

    /// The signature version corresponds to the hashing algorithm used while creating the signature of the notifications, subscription confirmations, or unsubscribe confirmation messages sent by Amazon SNS. By default, ``SignatureVersion`` is set to ``1``.
    hidden SignatureVersion: (String|Mapping)?

    /// The SNS subscriptions (endpoints) for this topic.
    ///
    ///   If you specify the ``Subscription`` property in the ``AWS::SNS::Topic`` resource and it creates an associated subscription resource, the associated subscription is not deleted when the ``AWS::SNS::Topic`` resource is deleted.
    hidden Subscription: (Listing<TopicSubscription>)?

    /// The list of tags to add to a new topic.
    ///
    ///   To be able to tag a topic on creation, you must have the ``sns:CreateTopic`` and ``sns:TagResource`` permissions.
    hidden Tags: (Listing<TopicTag>)?

    /// The name of the topic you want to create. Topic names must include only uppercase and lowercase ASCII letters, numbers, underscores, and hyphens, and must be between 1 and 256 characters long. FIFO topic names must end with ``.fifo``.
    ///
    ///  If you don't specify a name, CFN generates a unique physical ID and uses that ID for the topic name. For more information, see [Name type](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-name.html).
    ///   If you specify a name, you can't perform updates that require replacement of this resource. You can perform updates that require no or some interruption. If you must replace the resource, specify a new name.
    hidden TopicName: (String|Mapping)?

    /// Tracing mode of an SNS topic. By default ``TracingConfig`` is set to ``PassThrough``, and the topic passes through the tracing header it receives from an SNS publisher to its subscriptions. If set to ``Active``, SNS will vend X-Ray segment data to topic owner account if the sampled flag in the tracing header is true.
    hidden TracingConfig: (String|Mapping)?

    Properties {
        ["ArchivePolicy"] = if (ArchivePolicy == null) null else ArchivePolicy
        ["ContentBasedDeduplication"] = if (ContentBasedDeduplication == null) null else ContentBasedDeduplication
        ["DataProtectionPolicy"] = if (DataProtectionPolicy == null) null else DataProtectionPolicy
        ["DeliveryStatusLogging"] = if (DeliveryStatusLogging == null) null else DeliveryStatusLogging
        ["DisplayName"] = if (DisplayName == null) null else DisplayName
        ["FifoTopic"] = if (FifoTopic == null) null else FifoTopic
        ["KmsMasterKeyId"] = if (KmsMasterKeyId == null) null else KmsMasterKeyId
        ["SignatureVersion"] = if (SignatureVersion == null) null else SignatureVersion
        ["Subscription"] = if (Subscription == null) null else Subscription
        ["Tags"] = if (Tags == null) null else Tags
        ["TopicName"] = if (TopicName == null) null else TopicName
        ["TracingConfig"] = if (TracingConfig == null) null else TracingConfig
    }

}
