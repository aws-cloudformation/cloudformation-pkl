/// AWS::SSO::Assignment
///
/// Generated by rain build --pkl-class AWS::SSO::Assignment
module aws.sso.assignment

import "../../cloudformation.pkl"

/// Resource Type definition for SSO assignmet
open class Assignment extends cloudformation.Resource {

    Type = "AWS::SSO::Assignment"


    /// The sso instance that the permission set is owned.
    hidden InstanceArn: String(matches(Regex(#"arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b):sso:::instance/(sso)?ins-[a-zA-Z0-9-.]{16}"#)))|Mapping

    /// The permission set that the assignemt will be assigned
    hidden PermissionSetArn: String(matches(Regex(#"arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b):sso:::permissionSet/(sso)?ins-[a-zA-Z0-9-.]{16}/ps-[a-zA-Z0-9-./]{16}"#)))|Mapping

    /// The assignee's identifier, user id/group id
    hidden PrincipalId: String(matches(Regex(#"^([0-9a-f]{10}-|)[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}$"#)))|Mapping

    /// The assignee's type, user/group
    hidden PrincipalType: AssignmentPrincipalType|Mapping

    /// The account id to be provisioned.
    hidden TargetId: String(matches(Regex(#"\d{12}"#)))|Mapping

    /// The type of resource to be provsioned to, only aws account now
    hidden TargetType: AssignmentTargetType|Mapping

    Properties {
        ["InstanceArn"] = if (InstanceArn == null) null else InstanceArn
        ["PermissionSetArn"] = if (PermissionSetArn == null) null else PermissionSetArn
        ["PrincipalId"] = if (PrincipalId == null) null else PrincipalId
        ["PrincipalType"] = if (PrincipalType == null) null else PrincipalType
        ["TargetId"] = if (TargetId == null) null else TargetId
        ["TargetType"] = if (TargetType == null) null else TargetType
    }

}


typealias AssignmentPrincipalType = "USER"|"GROUP"

typealias AssignmentTargetType = "AWS_ACCOUNT"
