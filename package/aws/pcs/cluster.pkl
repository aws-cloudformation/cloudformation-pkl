/// AWS::PCS::Cluster
///
/// Generated by rain build --pkl-class AWS::PCS::Cluster
module aws.pcs.cluster

import "../../cloudformation.pkl"

/// The shared Slurm key for authentication, also known as the cluster secret.
open class ClusterAuthKey {
    SecretArn: String|Mapping
    SecretVersion: String|Mapping
}

typealias EndpointType = "SLURMCTLD"|"SLURMDBD"

/// An endpoint available for interaction with the scheduler.
open class ClusterEndpoint {
    Port: String|Mapping
    PrivateIpAddress: String|Mapping
    PublicIpAddress: (String|Mapping)?
    Type: EndpointType|Mapping
}

/// An error that occurred during resource provisioning.
open class ClusterErrorInfo {
    Code: (String|Mapping)?
    Message: (String|Mapping)?
}

typealias ClusterSecurityGroupId = String|Mapping


/// Additional settings that directly map to Slurm settings.
open class ClusterSlurmCustomSetting {
    ParameterName: String|Mapping
    ParameterValue: String|Mapping
}

typealias ClusterSubnetId = String|Mapping


/// A key-value pair to associate with a resource.
open class ClusterTag {
    Key: String|Mapping
    Value: (String|Mapping)?
}

/// AWS::PCS::Cluster resource creates an AWS PCS cluster.
open class Cluster extends cloudformation.Resource {

    Type = "AWS::PCS::Cluster"


    /// The name that identifies the cluster.
    hidden Name: (String(matches(Regex(#"^(?!pcs_)^(?![A-Za-z0-9]{10}$)[A-Za-z][A-Za-z0-9-]+$"#)))|Mapping)?

    /// The networking configuration for the cluster's control plane.
    hidden Networking: Dynamic

    /// The cluster management and job scheduling software associated with the cluster.
    hidden Scheduler: Dynamic

    /// The size of the cluster.
    hidden Size: ClusterSize|Mapping

    /// Additional options related to the Slurm scheduler.
    hidden SlurmConfiguration: (Dynamic)?

    /// 1 or more tags added to the resource. Each tag consists of a tag key and tag value. The tag value is optional and can be an empty string.
    hidden Tags: (ClusterClusterTags)?

    Properties {
        ["Name"] = if (Name == null) null else Name
        ["Networking"] = if (Networking == null) null else Networking
        ["Scheduler"] = if (Scheduler == null) null else Scheduler
        ["Size"] = if (Size == null) null else Size
        ["SlurmConfiguration"] = if (SlurmConfiguration == null) null else SlurmConfiguration
        ["Tags"] = if (Tags == null) null else Tags
    }

}


typealias ClusterSize = "SMALL"|"MEDIUM"|"LARGE"

typealias ClusterClusterTags = Mapping<String, Any>
