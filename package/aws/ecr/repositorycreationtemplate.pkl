/// AWS::ECR::RepositoryCreationTemplate
///
/// Generated by rain build --pkl-class AWS::ECR::RepositoryCreationTemplate
module aws.ecr.repositorycreationtemplate

import "../../cloudformation.pkl"

typealias RepositoryCreationTemplateAppliedForItem = String|Mapping


/// The encryption configuration for the repository. This determines how the contents of your repository are encrypted at rest. By default, when no encryption configuration is set or the AES256 encryption type is used, Amazon ECR uses server-side encryption with Amazon S3-managed encryption keys which encrypts your data at rest using an AES-256 encryption algorithm. This does not require any action on your part.
///
/// 
/// For more information, see https://docs.aws.amazon.com/AmazonECR/latest/userguide/encryption-at-rest.html
open class RepositoryCreationTemplateEncryptionConfiguration {
    EncryptionType: RepositoryCreationTemplateEncryptionType
    KmsKey: (RepositoryCreationTemplateKmsKey)?
}

typealias RepositoryCreationTemplateEncryptionType = String|Mapping


typealias RepositoryCreationTemplateKmsKey = String|Mapping


/// An array of key-value pairs to apply to this resource.
open class RepositoryCreationTemplateTag {
    Key: String|Mapping
    Value: String|Mapping
}

/// AWS::ECR::RepositoryCreationTemplate is used to create repository with configuration from a pre-defined template.
open class RepositoryCreationTemplate extends cloudformation.Resource {

    Type = "AWS::ECR::RepositoryCreationTemplate"


    /// A list of enumerable Strings representing the repository creation scenarios that the template will apply towards.
    hidden AppliedFor: Listing<RepositoryCreationTemplateAppliedForItem>

    /// The ARN of the role to be assumed by ECR. This role must be in the same account as the registry that you are configuring.
    hidden CustomRoleArn: (String(matches(Regex(#"^arn:aws[-a-z0-9]*:iam::[0-9]{12}:role/[A-Za-z0-9+=,-.@_]*$"#)))|Mapping)?

    /// The description of the template.
    hidden Description: (String|Mapping)?

    /// 
    hidden EncryptionConfiguration: (RepositoryCreationTemplateEncryptionConfiguration)?

    /// The image tag mutability setting for the repository.
    hidden ImageTagMutability: (RepositoryCreationTemplateImageTagMutability|Mapping)?

    /// The JSON lifecycle policy text to apply to the repository. For information about lifecycle policy syntax, see https://docs.aws.amazon.com/AmazonECR/latest/userguide/LifecyclePolicies.html
    hidden LifecyclePolicy: (String|Mapping)?

    /// The prefix use to match the repository name and apply the template.
    hidden Prefix: String(matches(Regex(#"^((?:[a-z0-9]+(?:[._-][a-z0-9]+)*/)*[a-z0-9]+(?:[._-][a-z0-9]+)*/?|ROOT)$"#)))|Mapping

    /// The JSON repository policy text to apply to the repository. For more information, see https://docs.aws.amazon.com/AmazonECR/latest/userguide/RepositoryPolicyExamples.html
    hidden RepositoryPolicy: (String|Mapping)?

    /// An array of key-value pairs to apply to this resource.
    hidden ResourceTags: (Listing<RepositoryCreationTemplateTag>)?

    Properties {
        ["AppliedFor"] = if (AppliedFor == null) null else AppliedFor
        ["CustomRoleArn"] = if (CustomRoleArn == null) null else CustomRoleArn
        ["Description"] = if (Description == null) null else Description
        ["EncryptionConfiguration"] = if (EncryptionConfiguration == null) null else EncryptionConfiguration
        ["ImageTagMutability"] = if (ImageTagMutability == null) null else ImageTagMutability
        ["LifecyclePolicy"] = if (LifecyclePolicy == null) null else LifecyclePolicy
        ["Prefix"] = if (Prefix == null) null else Prefix
        ["RepositoryPolicy"] = if (RepositoryPolicy == null) null else RepositoryPolicy
        ["ResourceTags"] = if (ResourceTags == null) null else ResourceTags
    }

}


typealias RepositoryCreationTemplateImageTagMutability = "MUTABLE"|"IMMUTABLE"
