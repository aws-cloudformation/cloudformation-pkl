/// AWS::ECR::PullThroughCacheRule
///
/// Generated by rain build --pkl-class AWS::ECR::PullThroughCacheRule
module aws.ecr.pullthroughcacherule

import "../../cloudformation.pkl"

typealias PullThroughCacheRuleCredentialArn = String|Mapping


typealias PullThroughCacheRuleEcrRepositoryPrefix = String|Mapping


/// 
open class PullThroughCacheRulePullThroughCacheRule {
    CredentialArn: (PullThroughCacheRuleCredentialArn)?
    EcrRepositoryPrefix: PullThroughCacheRuleEcrRepositoryPrefix
    RegistryId: (PullThroughCacheRuleRegistryId)?
    UpstreamRegistry: (PullThroughCacheRuleUpstreamRegistry)?
    UpstreamRegistryUrl: PullThroughCacheRuleUpstreamRegistryUrl
}

typealias PullThroughCacheRuleRegistryId = String|Mapping


typealias PullThroughCacheRuleUpstreamRegistry = String|Mapping


typealias PullThroughCacheRuleUpstreamRegistryUrl = String|Mapping


/// The AWS::ECR::PullThroughCacheRule resource configures the upstream registry configuration details for an Amazon Elastic Container Registry (Amazon Private ECR) pull-through cache.
open class PullThroughCacheRule extends cloudformation.Resource {

    Type = "AWS::ECR::PullThroughCacheRule"


    /// The Amazon Resource Name (ARN) of the AWS Secrets Manager secret that identifies the credentials to authenticate to the upstream registry.
    hidden CredentialArn: (String(matches(Regex(#"^arn:aws:secretsmanager:[a-zA-Z0-9-:]+:secret:ecr\-pullthroughcache\/[a-zA-Z0-9\/_+=.@-]+$"#)))|Mapping)?

    /// The ECRRepositoryPrefix is a custom alias for upstream registry url.
    hidden EcrRepositoryPrefix: (String(matches(Regex(#"(?:[a-z0-9]+(?:[._-][a-z0-9]+)*/)*[a-z0-9]+(?:[._-][a-z0-9]+)*"#)))|Mapping)?

    /// The name of the upstream registry.
    hidden UpstreamRegistry: (String|Mapping)?

    /// The upstreamRegistryUrl is the endpoint of upstream registry url of the public repository to be cached
    hidden UpstreamRegistryUrl: (String|Mapping)?

    Properties {
        ["CredentialArn"] = if (CredentialArn == null) null else CredentialArn
        ["EcrRepositoryPrefix"] = if (EcrRepositoryPrefix == null) null else EcrRepositoryPrefix
        ["UpstreamRegistry"] = if (UpstreamRegistry == null) null else UpstreamRegistry
        ["UpstreamRegistryUrl"] = if (UpstreamRegistryUrl == null) null else UpstreamRegistryUrl
    }

}
