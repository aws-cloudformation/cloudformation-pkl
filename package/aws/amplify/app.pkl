/// AWS::Amplify::App
///
/// Generated by rain build --pkl-class AWS::Amplify::App
module aws.amplify.app

import "../../cloudformation.pkl"

typealias AutoBranchCreationConfigStage = "EXPERIMENTAL"|"BETA"|"PULL_REQUEST"|"PRODUCTION"|"DEVELOPMENT"

/// 
open class AppAutoBranchCreationConfig {
    AutoBranchCreationPatterns: (Listing<String|Mapping>)?
    BasicAuthConfig: (AppBasicAuthConfig)?
    BuildSpec: (String|Mapping)?
    EnableAutoBranchCreation: (Boolean|Mapping)?
    EnableAutoBuild: (Boolean|Mapping)?
    EnablePerformanceMode: (Boolean|Mapping)?
    EnablePullRequestPreview: (Boolean|Mapping)?
    EnvironmentVariables: (Listing<AppEnvironmentVariable>)?
    Framework: (String(matches(Regex(#"(?s).*"#)))|Mapping)?
    PullRequestEnvironmentName: (String(matches(Regex(#"(?s).*"#)))|Mapping)?
    Stage: (AutoBranchCreationConfigStage|Mapping)?
}

/// 
open class AppBasicAuthConfig {
    EnableBasicAuth: (Boolean|Mapping)?
    Password: (String|Mapping)?
    Username: (String|Mapping)?
}

typealias CacheConfigType = "AMPLIFY_MANAGED"|"AMPLIFY_MANAGED_NO_COOKIES"

/// 
open class AppCacheConfig {
    Type: (CacheConfigType|Mapping)?
}

/// 
open class AppCustomRule {
    Condition: (String(matches(Regex(#"(?s).*"#)))|Mapping)?
    Source: String(matches(Regex(#"(?s).+"#)))|Mapping
    Status: (String(matches(Regex(#".{3,7}"#)))|Mapping)?
    Target: String(matches(Regex(#"(?s).+"#)))|Mapping
}

/// 
open class AppEnvironmentVariable {
    Name: String(matches(Regex(#"(?s).*"#)))|Mapping
    Value: String(matches(Regex(#"(?s).*"#)))|Mapping
}

/// 
open class AppTag {
    Key: String(matches(Regex(#"^(?!aws:)[a-zA-Z+-=._:/]+$"#)))|Mapping
    Value: String|Mapping
}

/// The AWS::Amplify::App resource creates Apps in the Amplify Console. An App is a collection of branches.
open class App extends cloudformation.Resource {

    Type = "AWS::Amplify::App"


    /// 
    hidden AccessToken: (String|Mapping)?

    /// 
    hidden AutoBranchCreationConfig: (AppAutoBranchCreationConfig)?

    /// 
    hidden BasicAuthConfig: (AppBasicAuthConfig)?

    /// 
    hidden BuildSpec: (String(matches(Regex(#"(?s).+"#)))|Mapping)?

    /// 
    hidden CacheConfig: (AppCacheConfig)?

    /// 
    hidden CustomHeaders: (String(matches(Regex(#"(?s).*"#)))|Mapping)?

    /// 
    hidden CustomRules: (Listing<AppCustomRule>)?

    /// 
    hidden Description: (String(matches(Regex(#"(?s).*"#)))|Mapping)?

    /// 
    hidden EnableBranchAutoDeletion: (Boolean|Mapping)?

    /// 
    hidden EnvironmentVariables: (Listing<AppEnvironmentVariable>)?

    /// 
    hidden IAMServiceRole: (String(matches(Regex(#"(?s).*"#)))|Mapping)?

    /// 
    hidden Name: String(matches(Regex(#"(?s).+"#)))|Mapping

    /// 
    hidden OauthToken: (String(matches(Regex(#"(?s).*"#)))|Mapping)?

    /// 
    hidden Platform: (AppPlatform|Mapping)?

    /// 
    hidden Repository: (String(matches(Regex(#"(?s).*"#)))|Mapping)?

    /// 
    hidden Tags: (Listing<AppTag>)?

    Properties {
        ["AccessToken"] = if (AccessToken == null) null else AccessToken
        ["AutoBranchCreationConfig"] = if (AutoBranchCreationConfig == null) null else AutoBranchCreationConfig
        ["BasicAuthConfig"] = if (BasicAuthConfig == null) null else BasicAuthConfig
        ["BuildSpec"] = if (BuildSpec == null) null else BuildSpec
        ["CacheConfig"] = if (CacheConfig == null) null else CacheConfig
        ["CustomHeaders"] = if (CustomHeaders == null) null else CustomHeaders
        ["CustomRules"] = if (CustomRules == null) null else CustomRules
        ["Description"] = if (Description == null) null else Description
        ["EnableBranchAutoDeletion"] = if (EnableBranchAutoDeletion == null) null else EnableBranchAutoDeletion
        ["EnvironmentVariables"] = if (EnvironmentVariables == null) null else EnvironmentVariables
        ["IAMServiceRole"] = if (IAMServiceRole == null) null else IAMServiceRole
        ["Name"] = if (Name == null) null else Name
        ["OauthToken"] = if (OauthToken == null) null else OauthToken
        ["Platform"] = if (Platform == null) null else Platform
        ["Repository"] = if (Repository == null) null else Repository
        ["Tags"] = if (Tags == null) null else Tags
    }

}


typealias AppPlatform = "WEB"|"WEB_DYNAMIC"|"WEB_COMPUTE"
