/// AWS::NimbleStudio::LaunchProfile
///
/// Generated by rain build --pkl-class AWS::NimbleStudio::LaunchProfile
module aws.nimblestudio.launchprofile

import "../../cloudformation.pkl"

typealias LaunchProfileAutomaticTerminationMode = String|Mapping


typealias LaunchProfileSessionBackupMode = String|Mapping


typealias LaunchProfileSessionPersistenceMode = String|Mapping


/// <p>A configuration for a streaming session.</p>
open class LaunchProfileStreamConfiguration {
    AutomaticTerminationMode: (LaunchProfileAutomaticTerminationMode)?
    ClipboardMode: LaunchProfileStreamingClipboardMode
    Ec2InstanceTypes: Listing<LaunchProfileStreamingInstanceType>
    MaxSessionLengthInMinutes: (Number|Mapping)?
    MaxStoppedSessionLengthInMinutes: (Number|Mapping)?
    SessionBackup: (LaunchProfileStreamConfigurationSessionBackup)?
    SessionPersistenceMode: (LaunchProfileSessionPersistenceMode)?
    SessionStorage: (LaunchProfileStreamConfigurationSessionStorage)?
    StreamingImageIds: Listing<String|Mapping>
    VolumeConfiguration: (LaunchProfileVolumeConfiguration)?
}

/// <p>Configures how streaming sessions are backed up when launched from this launch
///
///             profile.</p>
open class LaunchProfileStreamConfigurationSessionBackup {
    MaxBackupsToRetain: (Number|Mapping)?
    Mode: (LaunchProfileSessionBackupMode)?
}

/// <p>The configuration for a streaming session?s upload storage.</p>
open class LaunchProfileStreamConfigurationSessionStorage {
    Mode: Listing<LaunchProfileStreamingSessionStorageMode>
    Root: (LaunchProfileStreamingSessionStorageRoot)?
}

typealias LaunchProfileStreamingClipboardMode = String|Mapping


typealias LaunchProfileStreamingInstanceType = String|Mapping


typealias LaunchProfileStreamingSessionStorageMode = String|Mapping


/// <p>The upload storage root location (folder) on streaming workstations where files are
///
///             uploaded.</p>
open class LaunchProfileStreamingSessionStorageRoot {
    Linux: (String(matches(Regex(#"^(\$HOME|/)[/]?([A-Za-z0-9-_]+/)*([A-Za-z0-9_-]+)$"#)))|Mapping)?
    Windows: (String(matches(Regex(#"^((\%HOMEPATH\%)|[a-zA-Z]:)[\\/](?:[a-zA-Z0-9_-]+[\\/])*[a-zA-Z0-9_-]+$"#)))|Mapping)?
}

typealias LaunchProfileTags = Mapping<String, Any>


/// <p>Custom volume configuration for the root volumes that are attached to streaming
///
///             sessions.</p>
///          <p>This parameter is only allowed when <code>sessionPersistenceMode</code> is
///                 <code>ACTIVATED</code>.</p>
open class LaunchProfileVolumeConfiguration {
    Iops: (Number|Mapping)?
    Size: (Number|Mapping)?
    Throughput: (Number|Mapping)?
}

/// Represents a launch profile which delegates access to a collection of studio components to studio users
open class LaunchProfile extends cloudformation.Resource {

    Type = "AWS::NimbleStudio::LaunchProfile"


    /// <p>The description.</p>
    hidden Description: (String|Mapping)?

    /// <p>Specifies the IDs of the EC2 subnets where streaming sessions will be accessible from.
    ///
    ///             These subnets must support the specified instance types. </p>
    hidden Ec2SubnetIds: Listing<String|Mapping>

    /// <p>The version number of the protocol that is used by the launch profile. The only valid
    ///
    ///             version is "2021-03-31".</p>
    hidden LaunchProfileProtocolVersions: Listing<String|Mapping>

    /// <p>The name for the launch profile.</p>
    hidden Name: String|Mapping

    /// 
    hidden StreamConfiguration: LaunchProfileStreamConfiguration

    /// <p>Unique identifiers for a collection of studio components that can be used with this
    ///
    ///             launch profile.</p>
    hidden StudioComponentIds: Listing<String|Mapping>

    /// <p>The studio ID. </p>
    hidden StudioId: String|Mapping

    /// 
    hidden Tags: (LaunchProfileTags)?

    Properties {
        ["Description"] = if (Description == null) null else Description
        ["Ec2SubnetIds"] = if (Ec2SubnetIds == null) null else Ec2SubnetIds
        ["LaunchProfileProtocolVersions"] = if (LaunchProfileProtocolVersions == null) null else LaunchProfileProtocolVersions
        ["Name"] = if (Name == null) null else Name
        ["StreamConfiguration"] = if (StreamConfiguration == null) null else StreamConfiguration
        ["StudioComponentIds"] = if (StudioComponentIds == null) null else StudioComponentIds
        ["StudioId"] = if (StudioId == null) null else StudioId
        ["Tags"] = if (Tags == null) null else Tags
    }

}
