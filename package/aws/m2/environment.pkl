/// AWS::M2::Environment
///
/// Generated by rain build --pkl-class AWS::M2::Environment
module aws.m2.environment

import "../../cloudformation.pkl"

/// Defines the storage configuration for an Amazon EFS file system.
open class EnvironmentEfsStorageConfiguration {
    FileSystemId: String(matches(Regex(#"^\S{1,200}$"#)))|Mapping
    MountPoint: String(matches(Regex(#"^\S{1,200}$"#)))|Mapping
}

typealias EnvironmentEngineType = String|Mapping


/// Defines the storage configuration for an Amazon FSx file system.
open class EnvironmentFsxStorageConfiguration {
    FileSystemId: String(matches(Regex(#"^\S{1,200}$"#)))|Mapping
    MountPoint: String(matches(Regex(#"^\S{1,200}$"#)))|Mapping
}

/// Defines the details of a high availability configuration.
open class EnvironmentHighAvailabilityConfig {
    DesiredCapacity: Int|Mapping
}

typealias EnvironmentNetworkType = String|Mapping


typealias EnvironmentStorageConfiguration = Dynamic


typealias EnvironmentTagMap = Mapping<String, Any>


/// Represents a runtime environment that can run migrated mainframe applications.
open class Environment extends cloudformation.Resource {

    Type = "AWS::M2::Environment"


    /// The description of the environment.
    hidden Description: (String|Mapping)?

    /// 
    hidden EngineType: EnvironmentEngineType

    /// The version of the runtime engine for the environment.
    hidden EngineVersion: (String(matches(Regex(#"^\S{1,10}$"#)))|Mapping)?

    /// 
    hidden HighAvailabilityConfig: (EnvironmentHighAvailabilityConfig)?

    /// The type of instance underlying the environment.
    hidden InstanceType: String(matches(Regex(#"^\S{1,20}$"#)))|Mapping

    /// The ID or the Amazon Resource Name (ARN) of the customer managed KMS Key used for encrypting environment-related resources.
    hidden KmsKeyId: (String|Mapping)?

    /// The name of the environment.
    hidden Name: String(matches(Regex(#"^[A-Za-z0-9][A-Za-z0-9_\-]{1,59}$"#)))|Mapping

    /// 
    hidden NetworkType: (EnvironmentNetworkType)?

    /// Configures a desired maintenance window for the environment. If you do not provide a value, a random system-generated value will be assigned.
    hidden PreferredMaintenanceWindow: (String(matches(Regex(#"^\S{1,50}$"#)))|Mapping)?

    /// Specifies whether the environment is publicly accessible.
    hidden PubliclyAccessible: (Boolean|Mapping)?

    /// The list of security groups for the VPC associated with this environment.
    hidden SecurityGroupIds: (Listing<String|Mapping>)?

    /// The storage configurations defined for the runtime environment.
    hidden StorageConfigurations: (Listing<EnvironmentStorageConfiguration>)?

    /// The unique identifiers of the subnets assigned to this runtime environment.
    hidden SubnetIds: (Listing<String|Mapping>)?

    /// Tags associated to this environment.
    hidden Tags: (EnvironmentTagMap)?

    Properties {
        ["Description"] = if (Description == null) null else Description
        ["EngineType"] = if (EngineType == null) null else EngineType
        ["EngineVersion"] = if (EngineVersion == null) null else EngineVersion
        ["HighAvailabilityConfig"] = if (HighAvailabilityConfig == null) null else HighAvailabilityConfig
        ["InstanceType"] = if (InstanceType == null) null else InstanceType
        ["KmsKeyId"] = if (KmsKeyId == null) null else KmsKeyId
        ["Name"] = if (Name == null) null else Name
        ["NetworkType"] = if (NetworkType == null) null else NetworkType
        ["PreferredMaintenanceWindow"] = if (PreferredMaintenanceWindow == null) null else PreferredMaintenanceWindow
        ["PubliclyAccessible"] = if (PubliclyAccessible == null) null else PubliclyAccessible
        ["SecurityGroupIds"] = if (SecurityGroupIds == null) null else SecurityGroupIds
        ["StorageConfigurations"] = if (StorageConfigurations == null) null else StorageConfigurations
        ["SubnetIds"] = if (SubnetIds == null) null else SubnetIds
        ["Tags"] = if (Tags == null) null else Tags
    }

}
