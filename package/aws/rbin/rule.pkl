/// AWS::Rbin::Rule
///
/// Generated by rain build --pkl-class AWS::Rbin::Rule
module aws.rbin.rule

import "../../cloudformation.pkl"

/// The resource tag of the rule.
open class RuleResourceTag {
    ResourceTagKey: String|Mapping
    ResourceTagValue: String|Mapping
}

typealias RetentionPeriodRetentionPeriodUnit = "DAYS"

/// The retention period of the rule.
open class RuleRetentionPeriod {
    RetentionPeriodUnit: RetentionPeriodRetentionPeriodUnit|Mapping
    RetentionPeriodValue: Int|Mapping
}

/// Metadata of a retention rule, consisting of a key-value pair.
open class RuleTag {
    Key: String|Mapping
    Value: String|Mapping
}

typealias UnlockDelayUnlockDelayUnit = "DAYS"

/// 
open class RuleUnlockDelay {
    UnlockDelayUnit: (UnlockDelayUnlockDelayUnit|Mapping)?
    UnlockDelayValue: (Int|Mapping)?
}

/// Resource Type definition for AWS::Rbin::Rule
open class Rule extends cloudformation.Resource {

    Type = "AWS::Rbin::Rule"


    /// The description of the retention rule.
    hidden Description: (String|Mapping)?

    /// Information about the exclude resource tags used to identify resources that are excluded by the retention rule.
    hidden ExcludeResourceTags: (Listing<RuleResourceTag>)?

    /// Information about the retention rule lock configuration.
    hidden LockConfiguration: (RuleUnlockDelay)?

    /// Information about the resource tags used to identify resources that are retained by the retention rule.
    hidden ResourceTags: (Listing<RuleResourceTag>)?

    /// The resource type retained by the retention rule.
    hidden ResourceType: RuleResourceType|Mapping

    /// Information about the retention period for which the retention rule is to retain resources.
    hidden RetentionPeriod: RuleRetentionPeriod

    /// The state of the retention rule. Only retention rules that are in the available state retain resources.
    hidden Status: (String(matches(Regex(#"pending|available"#)))|Mapping)?

    /// Information about the tags assigned to the retention rule.
    hidden Tags: (Listing<RuleTag>)?

    Properties {
        ["Description"] = if (Description == null) null else Description
        ["ExcludeResourceTags"] = if (ExcludeResourceTags == null) null else ExcludeResourceTags
        ["LockConfiguration"] = if (LockConfiguration == null) null else LockConfiguration
        ["ResourceTags"] = if (ResourceTags == null) null else ResourceTags
        ["ResourceType"] = if (ResourceType == null) null else ResourceType
        ["RetentionPeriod"] = if (RetentionPeriod == null) null else RetentionPeriod
        ["Status"] = if (Status == null) null else Status
        ["Tags"] = if (Tags == null) null else Tags
    }

}


typealias RuleResourceType = "EBS_SNAPSHOT"|"EC2_IMAGE"
