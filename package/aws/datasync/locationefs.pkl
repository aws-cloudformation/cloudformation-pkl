/// AWS::DataSync::LocationEFS
///
/// Generated by rain build --pkl-class AWS::DataSync::LocationEFS
module aws.datasync.locationefs

import "../../cloudformation.pkl"

/// The subnet and security group that DataSync uses to access target EFS file system.
open class LocationEFSEc2Config {
    SecurityGroupArns: Listing<String|Mapping>
    SubnetArn: String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):ec2:[a-z\-0-9]*:[0-9]{12}:subnet/.*$"#)))|Mapping
}

/// A key-value pair to associate with a resource.
open class LocationEFSTag {
    Key: String(matches(Regex(#"^[a-zA-Z0-9\s+=._:/-]+$"#)))|Mapping
    Value: String(matches(Regex(#"^[a-zA-Z0-9\s+=._:@/-]+$"#)))|Mapping
}

/// Resource schema for AWS::DataSync::LocationEFS.
open class LocationEFS extends cloudformation.Resource {

    Type = "AWS::DataSync::LocationEFS"


    /// The Amazon Resource Name (ARN) for the Amazon EFS Access point that DataSync uses when accessing the EFS file system.
    hidden AccessPointArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):elasticfilesystem:[a-z\-0-9]+:[0-9]{12}:access-point/fsap-[0-9a-f]{8,40}$"#)))|Mapping)?

    /// 
    hidden Ec2Config: LocationEFSEc2Config

    /// The Amazon Resource Name (ARN) for the Amazon EFS file system.
    hidden EfsFilesystemArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):elasticfilesystem:[a-z\-0-9]*:[0-9]{12}:file-system/fs-.*$"#)))|Mapping)?

    /// The Amazon Resource Name (ARN) of the AWS IAM role that the DataSync will assume when mounting the EFS file system.
    hidden FileSystemAccessRoleArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):iam::[0-9]{12}:role/.*$"#)))|Mapping)?

    /// Protocol that is used for encrypting the traffic exchanged between the DataSync Agent and the EFS file system.
    hidden InTransitEncryption: (LocationEFSInTransitEncryption|Mapping)?

    /// A subdirectory in the location's path. This subdirectory in the EFS file system is used to read data from the EFS source location or write data to the EFS destination.
    hidden Subdirectory: (String(matches(Regex(#"^[a-zA-Z0-9_\-\+\./\(\)\$\p{Zs}]+$"#)))|Mapping)?

    /// An array of key-value pairs to apply to this resource.
    hidden Tags: (Listing<LocationEFSTag>)?

    Properties {
        ["AccessPointArn"] = if (AccessPointArn == null) null else AccessPointArn
        ["Ec2Config"] = if (Ec2Config == null) null else Ec2Config
        ["EfsFilesystemArn"] = if (EfsFilesystemArn == null) null else EfsFilesystemArn
        ["FileSystemAccessRoleArn"] = if (FileSystemAccessRoleArn == null) null else FileSystemAccessRoleArn
        ["InTransitEncryption"] = if (InTransitEncryption == null) null else InTransitEncryption
        ["Subdirectory"] = if (Subdirectory == null) null else Subdirectory
        ["Tags"] = if (Tags == null) null else Tags
    }

}


typealias LocationEFSInTransitEncryption = "NONE"|"TLS1_2"
