/// AWS::DataSync::Task
///
/// Generated by rain build --pkl-class AWS::DataSync::Task
module aws.datasync.task

import "../../cloudformation.pkl"

typealias TaskDestinationNetworkInterfaceArns = Listing<(String(matches(Regex(#"^arn:aws[\-a-z]{0,}:ec2:[a-z\-0-9]*:[0-9]{12}:network-interface/eni-[0-9a-f]+$"#)))|Mapping)?>


typealias FilterRuleFilterType = "SIMPLE_PATTERN"

/// Specifies which files folders and objects to include or exclude when transferring files from source to destination.
open class TaskFilterRule {
    FilterType: (FilterRuleFilterType|Mapping)?
    Value: (String(matches(Regex(#"^[^\x00]+$"#)))|Mapping)?
}

typealias ManifestConfigAction = "TRANSFER"

typealias ManifestConfigFormat = "CSV"

/// Configures a manifest, which is a list of files or objects that you want DataSync to transfer.
open class TaskManifestConfig {
    Action: (ManifestConfigAction|Mapping)?
    Format: (ManifestConfigFormat|Mapping)?
    Source: Dynamic
}

/// Specifies the S3 bucket where you're hosting the manifest that you want AWS DataSync to use.
open class TaskManifestConfigSourceS3 {
    BucketAccessRoleArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):iam::[0-9]{12}:role/.*$"#)))|Mapping)?
    ManifestObjectPath: (String(matches(Regex(#"^[\p{L}\p{M}\p{Z}\p{S}\p{N}\p{P}\p{C}]*$"#)))|Mapping)?
    ManifestObjectVersionId: (String(matches(Regex(#"^.+$"#)))|Mapping)?
    S3BucketArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):(s3|s3-outposts):[a-z\-0-9]*:[0-9]*:.*$"#)))|Mapping)?
}

typealias OptionsAtime = "NONE"|"BEST_EFFORT"

typealias OptionsGid = "NONE"|"INT_VALUE"|"NAME"|"BOTH"

typealias OptionsLogLevel = "OFF"|"BASIC"|"TRANSFER"

typealias OptionsMtime = "NONE"|"PRESERVE"

typealias OptionsObjectTags = "PRESERVE"|"NONE"

typealias OptionsOverwriteMode = "ALWAYS"|"NEVER"

typealias OptionsPosixPermissions = "NONE"|"PRESERVE"

typealias OptionsPreserveDeletedFiles = "PRESERVE"|"REMOVE"

typealias OptionsPreserveDevices = "NONE"|"PRESERVE"

typealias OptionsSecurityDescriptorCopyFlags = "NONE"|"OWNER_DACL"|"OWNER_DACL_SACL"

typealias OptionsTaskQueueing = "ENABLED"|"DISABLED"

typealias OptionsTransferMode = "CHANGED"|"ALL"

typealias OptionsUid = "NONE"|"INT_VALUE"|"NAME"|"BOTH"

typealias OptionsVerifyMode = "POINT_IN_TIME_CONSISTENT"|"ONLY_FILES_TRANSFERRED"|"NONE"

/// Represents the options that are available to control the behavior of a StartTaskExecution operation.
open class TaskOptions {
    Atime: (OptionsAtime|Mapping)?
    BytesPerSecond: (Int|Mapping)?
    Gid: (OptionsGid|Mapping)?
    LogLevel: (OptionsLogLevel|Mapping)?
    Mtime: (OptionsMtime|Mapping)?
    ObjectTags: (OptionsObjectTags|Mapping)?
    OverwriteMode: (OptionsOverwriteMode|Mapping)?
    PosixPermissions: (OptionsPosixPermissions|Mapping)?
    PreserveDeletedFiles: (OptionsPreserveDeletedFiles|Mapping)?
    PreserveDevices: (OptionsPreserveDevices|Mapping)?
    SecurityDescriptorCopyFlags: (OptionsSecurityDescriptorCopyFlags|Mapping)?
    TaskQueueing: (OptionsTaskQueueing|Mapping)?
    TransferMode: (OptionsTransferMode|Mapping)?
    Uid: (OptionsUid|Mapping)?
    VerifyMode: (OptionsVerifyMode|Mapping)?
}

typealias TaskSourceNetworkInterfaceArns = Listing<(String(matches(Regex(#"^arn:aws[\-a-z]{0,}:ec2:[a-z\-0-9]*:[0-9]{12}:network-interface/eni-[0-9a-f]+$"#)))|Mapping)?>


/// A key-value pair to associate with a resource.
open class TaskTag {
    Key: String(matches(Regex(#"^[a-zA-Z0-9\s+=._:/-]+$"#)))|Mapping
    Value: String(matches(Regex(#"^[a-zA-Z0-9\s+=._:@/-]+$"#)))|Mapping
}

typealias TaskReportConfigObjectVersionIds = "INCLUDE"|"NONE"

typealias TaskReportConfigOutputType = "SUMMARY_ONLY"|"STANDARD"

typealias TaskReportConfigReportLevel = "ERRORS_ONLY"|"SUCCESSES_AND_ERRORS"

/// Specifies how you want to configure a task report, which provides detailed information about for your Datasync transfer.
open class TaskTaskReportConfig {
    Destination: Dynamic
    ObjectVersionIds: (TaskReportConfigObjectVersionIds|Mapping)?
    OutputType: TaskReportConfigOutputType|Mapping
    Overrides: (Dynamic)?
    ReportLevel: (TaskReportConfigReportLevel|Mapping)?
}

/// Specifies the Amazon S3 bucket where DataSync uploads your task report.
open class TaskTaskReportConfigDestinationS3 {
    BucketAccessRoleArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):iam::[0-9]{12}:role/.*$"#)))|Mapping)?
    S3BucketArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):(s3|s3-outposts):[a-z\-0-9]*:[0-9]*:.*$"#)))|Mapping)?
    Subdirectory: (String(matches(Regex(#"^[a-zA-Z0-9_\-\+\./\(\)\p{Zs}]*$"#)))|Mapping)?
}

typealias TaskScheduleStatus = "ENABLED"|"DISABLED"

/// Specifies the schedule you want your task to use for repeated executions.
open class TaskTaskSchedule {
    ScheduleExpression: (String(matches(Regex(#"^[a-zA-Z0-9\ \_\*\?\,\|\^\-\/\#\s\(\)\+]*$"#)))|Mapping)?
    Status: (TaskScheduleStatus|Mapping)?
}

/// Resource schema for AWS::DataSync::Task.
open class Task extends cloudformation.Resource {

    Type = "AWS::DataSync::Task"


    /// The ARN of the Amazon CloudWatch log group that is used to monitor and log events in the task.
    hidden CloudWatchLogGroupArn: (String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):logs:[a-z\-0-9]*:[0-9]{12}:log-group:([^:\*]*)(:\*)?$"#)))|Mapping)?

    /// The ARN of an AWS storage resource's location.
    hidden DestinationLocationArn: String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):datasync:[a-z\-0-9]+:[0-9]{12}:location/loc-[0-9a-z]{17}$"#)))|Mapping

    /// 
    hidden Excludes: (Listing<TaskFilterRule>)?

    /// 
    hidden Includes: (Listing<TaskFilterRule>)?

    /// 
    hidden ManifestConfig: (TaskManifestConfig)?

    /// The name of a task. This value is a text reference that is used to identify the task in the console.
    hidden Name: (String(matches(Regex(#"^[a-zA-Z0-9\s+=._:@/-]+$"#)))|Mapping)?

    /// 
    hidden Options: (TaskOptions)?

    /// 
    hidden Schedule: (TaskTaskSchedule)?

    /// The ARN of the source location for the task.
    hidden SourceLocationArn: String(matches(Regex(#"^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):datasync:[a-z\-0-9]+:[0-9]{12}:location/loc-[0-9a-z]{17}$"#)))|Mapping

    /// An array of key-value pairs to apply to this resource.
    hidden Tags: (Listing<TaskTag>)?

    /// Specifies the task mode for the task.
    hidden TaskMode: (TaskTaskMode|Mapping)?

    /// 
    hidden TaskReportConfig: (TaskTaskReportConfig)?

    Properties {
        ["CloudWatchLogGroupArn"] = if (CloudWatchLogGroupArn == null) null else CloudWatchLogGroupArn
        ["DestinationLocationArn"] = if (DestinationLocationArn == null) null else DestinationLocationArn
        ["Excludes"] = if (Excludes == null) null else Excludes
        ["Includes"] = if (Includes == null) null else Includes
        ["ManifestConfig"] = if (ManifestConfig == null) null else ManifestConfig
        ["Name"] = if (Name == null) null else Name
        ["Options"] = if (Options == null) null else Options
        ["Schedule"] = if (Schedule == null) null else Schedule
        ["SourceLocationArn"] = if (SourceLocationArn == null) null else SourceLocationArn
        ["Tags"] = if (Tags == null) null else Tags
        ["TaskMode"] = if (TaskMode == null) null else TaskMode
        ["TaskReportConfig"] = if (TaskReportConfig == null) null else TaskReportConfig
    }

}


typealias TaskTaskMode = "BASIC"|"ENHANCED"
