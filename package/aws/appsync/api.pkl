/// AWS::AppSync::Api
///
/// Generated by rain build --pkl-class AWS::AppSync::Api
module aws.appsync.api

import "../../cloudformation.pkl"

typealias ApiApiName = String|Mapping


/// An auth mode.
open class ApiAuthMode {
    AuthType: (ApiAuthenticationType)?
}

typealias ApiAuthModes = Listing<(ApiAuthMode)?>


/// An auth provider for the AppSync API.
open class ApiAuthProvider {
    AuthType: ApiAuthenticationType
    CognitoConfig: (ApiCognitoConfig)?
    LambdaAuthorizerConfig: (ApiLambdaAuthorizerConfig)?
    OpenIDConnectConfig: (ApiOpenIDConnectConfig)?
}

typealias ApiAuthProviders = Listing<(ApiAuthProvider)?>


typealias ApiAuthenticationType = String|Mapping


/// Optional authorization configuration for using Amazon Cognito user pools with your API endpoint.
open class ApiCognitoConfig {
    AppIdClientRegex: (String|Mapping)?
    AwsRegion: String|Mapping
    UserPoolId: String|Mapping
}

/// A map of DNS names for the AppSync API.
open class ApiDnsMap {
    Http: (String|Mapping)?
    Realtime: (String|Mapping)?
}

/// The configuration for an Event Api
open class ApiEventConfig {
    AuthProviders: ApiAuthProviders
    ConnectionAuthModes: ApiAuthModes
    DefaultPublishAuthModes: ApiAuthModes
    DefaultSubscribeAuthModes: ApiAuthModes
    LogConfig: (ApiEventLogConfig)?
}

/// The log config for the AppSync API.
open class ApiEventLogConfig {
    CloudWatchLogsRoleArn: String|Mapping
    LogLevel: ApiEventLogLevel
}

typealias ApiEventLogLevel = String|Mapping


/// A LambdaAuthorizerConfig holds configuration on how to authorize AWS AppSync API access when using the AWS_LAMBDA authorizer mode. Be aware that an AWS AppSync API may have only one Lambda authorizer configured at a time.
open class ApiLambdaAuthorizerConfig {
    AuthorizerResultTtlInSeconds: (Int|Mapping)?
    AuthorizerUri: String|Mapping
    IdentityValidationExpression: (String|Mapping)?
}

/// The OpenID Connect configuration.
open class ApiOpenIDConnectConfig {
    AuthTTL: (Number|Mapping)?
    ClientId: (String|Mapping)?
    IatTTL: (Number|Mapping)?
    Issuer: String|Mapping
}

typealias ApiOwnerContact = String|Mapping


/// An arbitrary set of tags (key-value pairs) for this AppSync API.
open class ApiTag {
    Key: String(matches(Regex(#"^(?!aws:)[ a-zA-Z+-=._:/]+$"#)))|Mapping
    Value: String(matches(Regex(#"^[\s\w+-=\.:/@]*$"#)))|Mapping
}

typealias ApiTags = Listing<(ApiTag)?>


/// Resource schema for AppSync Api
open class Api extends cloudformation.Resource {

    Type = "AWS::AppSync::Api"


    /// 
    hidden EventConfig: (ApiEventConfig)?

    /// 
    hidden Name: ApiApiName

    /// 
    hidden OwnerContact: (ApiOwnerContact)?

    /// 
    hidden Tags: (ApiTags)?

    Properties {
        ["EventConfig"] = if (EventConfig == null) null else EventConfig
        ["Name"] = if (Name == null) null else Name
        ["OwnerContact"] = if (OwnerContact == null) null else OwnerContact
        ["Tags"] = if (Tags == null) null else Tags
    }

}
